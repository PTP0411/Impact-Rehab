<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Details - Impact Rehab</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Patient Details</h1>
    <button id="back-btn">‚Üê Back to Dashboard</button>
  </header>

  <main class="patient-container">
    <!-- Patient Info -->
    <section class="patient-info">
      <h2 id="patient-name">John Doe</h2>
      <p><strong>Date of Birth:</strong> 1980-05-12</p>
     <!-- Overall Score Graph -->
     <section class="chart-section">
      <canvas id="scoreChart"></canvas>
        </section>
      <label for="visit-select">Select Visit:</label>
      <select id="visit-select">
        <option>2025-09-01</option>
        <option>2025-06-15</option>
        <option>2025-03-20</option>
      </select>
        <button id="new-session-btn">+ New Session</button>
    </section>

  </main>

  <script>
    // Back button
    document.getElementById("back-btn").addEventListener("click", () => {
      window.location.href = "doctor.html";
    });

    // Visit dropdown: redirect to visit.html with query string
    document.getElementById("visit-select").addEventListener("change", function() {
      const visitDate = this.value;
      window.location.href = `visit.html?date=${visitDate}`;
    });

    // New session button (UI placeholder)
    document.getElementById("new-session-btn").addEventListener("click", () => {
      alert("Add new session form coming soon!");
    });

    // Demo Chart.js data
    const ctx = document.getElementById("scoreChart").getContext("2d");
    const scoreChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Mar', 'Jun', 'Sep'],
        datasets: [{
          label: 'Overall Score',
          data: [65, 72, 78, 85],
          fill: true,
          backgroundColor: 'rgba(122, 185, 47, 0.2)',
          borderColor: '#7ab92f',
          borderWidth: 2,
          tension: 0.3,
          pointBackgroundColor: '#7ab92f'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: true },
          tooltip: { mode: 'index', intersect: false }
        },
        scales: {
          y: {
            suggestedMin: 0,
            suggestedMax: 100,
            title: { display: true, text: 'Score' }
          },
          x: {
            title: { display: true, text: 'Visit Month' }
          }
        }
      }
    });
  </script>
</body>
</html>
